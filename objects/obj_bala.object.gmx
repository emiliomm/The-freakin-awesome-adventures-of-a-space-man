<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_bala</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var direccion;
if (direction == 0) //derecha
    direccion = 1;
else if (direction == 180) //izquierda
    direccion = -1;
else
    direccion = 0;

var velocidad = speed*direccion;

if place_meeting(x + velocidad, y, obj_enemigo_escudo)
{
    //Si rebota en el escudo cambia la dirección de la bala
    if (direction == 180 &amp;&amp; obj_enemigo_escudo.dir == 1) //enemigo hacia der
    {
        direction = 0;
        while !place_meeting(x + velocidad, y, obj_enemigo_escudo)
            x += sign(velocidad);
    }
    else if (direction == 0 &amp;&amp; obj_enemigo_escudo.dir == -1) //enemigo hacia izq
    {
        direction = 180;
        while !place_meeting(x + velocidad, y, obj_enemigo_escudo)
            x += sign(velocidad);
    }
    //Sino muere
    else
    {
        with (obj_enemigo_escudo)
        {
            //Si no está muerto
            if (muerto == 0)
            {
                //Paramos el movimiento del enemigo
                hsp = 0;
                msp = 0;
                vsp = 0;
                
                //El enemigo se eleva un poco antes de caer
                for (i = 0; i &lt; 20;i++)
                    y-=1;
                    
                //Cambiamos el estado a muerto
                muerto = 1;
                
                with(instance_nearest(x,y,obj_bala))
                    instance_destroy();
            }
        }
    }
}

if place_meeting(x + velocidad, y, obj_boss)
{
    //Si la bala le da de espaldas, cambia la dirección
    if (direction == 180 &amp;&amp; obj_boss.dir == -1) //enemigo hacia izq
    {
        obj_boss.dir *= -1
    }
    else if (direction == 0 &amp;&amp; obj_boss.dir == 1) //enemigo hacia der
    {
        obj_boss.dir *= -1
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_tiburon">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(instance_nearest(x, y, obj_tiburon))
{
    //Si no está muerto
    if (muerto == 0)
    {
        //Paramos el movimiento del enemigo
        hsp = 0;
        msp = 0;
        vsp = 0;
        
        //El enemigo se eleva un poco antes de caer
        for (i = 0; i &lt; 20;i++)
            y-=1;
            
        //Cambiamos el estado a muerto
        muerto = 1;
        
        with(instance_nearest(x,y,obj_bala))
            instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_pulpo">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(instance_nearest(x, y, obj_pulpo))
{
    //Si no está muerto
    if (muerto == 0)
    {
        //Paramos el movimiento del enemigo
        hsp = 0;
        msp = 0;
        vsp = 0;
        
        //El enemigo se eleva un poco antes de caer
        for (i = 0; i &lt; 20;i++)
            y-=1;
            
        //Cambiamos el estado a muerto
        muerto = 1;
        
        with(instance_nearest(x,y,obj_bala))
            instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_invencible">
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="4" ename="obj_boss">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(other)
{
    if (invencible == 0)
    {
        vida--;
        alarm[3] = tiempo_disparado; //Disparado (inmovil) Tiempo(seg = n/fps)
        alarm[4] = tiempo_invencible; //Invencible Tiempo(seg = n/fps)
        disparo = 1;
        invencible = 1;
        with(instance_nearest(x,y,obj_bala))
            instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_eggman">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(other)
{
    vida--;
    if ( vida%5 == 0)
    {
        msp++;
    }
    if ( vida%8 == 0 &amp;&amp; !sound_isplaying(eggwelcome))
    {
        switch (irandom(6))
        {
        case 0:
        sound_play(egglose1);
        break;
        case 1:
        sound_play(egglose2);
        break;
        case 2:
        sound_play(egglose3);
        break;
        case 3:
        sound_play(egglose4);
        break;
        case 4:
        sound_play(egglose5);
        break;
        case 5:
        sound_play(egglose6);
        break;
        case 6:
        sound_play(egglose7);
        break;
        }
    }
    if (vida == 15)
        cabreado = 1;
    alarm[0] = 15; //Tiempo(seg = n/fps)
    disparo = 1;
    
    with(instance_nearest(x,y,obj_bala))
        instance_destroy();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_baboso">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(instance_nearest(x, y, obj_baboso))
{
    //Si no está muerto
    if (muerto == 0)
    {
        //Paramos el movimiento del enemigo
        hsp = 0;
        msp = 0;
        vsp = 0;
        jsp = 0;
        
        //El enemigo se eleva un poco antes de caer
        for (i = 0; i &lt; 20;i++)
            y-=1;
            
        //Cambiamos el estado a muerto
        muerto = 1;
        
        with(instance_nearest(x,y,obj_bala))
            instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_enemigo_caparazon">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(instance_nearest(x, y, obj_enemigo_caparazon))
{
    //Si no está muerto
    if (muerto == 0)
    {
        //Paramos el movimiento del enemigo
        hsp = 0;
        msp = 0;
        vsp = 0;
        
        //El enemigo se eleva un poco antes de caer
        for (i = 0; i &lt; 20;i++)
            y-=1;
            
        //Cambiamos el estado a muerto
        muerto = 1;
        
        with(instance_nearest(x,y,obj_bala))
            instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_goomba">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(instance_nearest(x, y, obj_goomba))
{
    //Si no está muerto
    if (muerto == 0)
    {
        //Paramos el movimiento del enemigo
        hsp = 0;
        msp = 0;
        vsp = 0;
        
        //El enemigo se eleva un poco antes de caer
        for (i = 0; i &lt; 20;i++)
            y-=1;
            
        //Cambiamos el estado a muerto
        muerto = 1;
        
        with(instance_nearest(x,y,obj_bala))
            instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_torreta">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(other)
{
    vida--;
    disparado = 1;
    alarm[1] = 15; //Tiempo(seg = n/fps) Tiempo de animacion disparada
    with(instance_nearest(x,y,obj_bala))
            instance_destroy();
}

    
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_piranha">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(instance_nearest(x, y, obj_piranha))
{
    //Si no está muerto
    if (muerto == 0)
    {
        //Paramos el movimiento del enemigo
        hsp = 0;
        msp = 0;
        vsp = 0;
        
        //El enemigo se eleva un poco antes de caer
        for (i = 0; i &lt; 20;i++)
            y-=1;
            
        //Cambiamos el estado a muerto
        muerto = 1;
        with(instance_nearest(x,y,obj_bala))
            instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_bloque_fragil">
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="4" ename="obj_bloque">
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="7" enumb="0">
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>11,1</point>
    <point>6,6</point>
  </PhysicsShapePoints>
</object>
